
# Enebular Runtime Agent

*Read this in other languages: [English](README.md), [日本語](README.ja.md)*

Enebularランタイムエージェントは、Linuxデバイス用のNode.jsベースのシステムアプリケーションです。 エージェントはEnebularと連携して、Node-REDのフローをデバイスにディプロイし、デバイスがEnebularに情報を通知することをできるようにします。

エージェントには次の主要機能があります。

- デバイス（エージェント）の登録と認証
- Node-REDインスタンスの管理とenebularから送られたフローのデプロイ
- Enebularへのステータス通知およびログ送信

Enebularは、サードパーティのIoTプラットフォーム接続を介してエージェントと通信します。 サポートされているIoTプラットフォームの接続タイプは次のとおりです。

 - AWS IoT

## 構成

エージェントは、Node.jsモジュールの集合として実装されています。エージェントのコアランタイム機能は`enebular-runtime-agent`モジュールとして（`agent`ディレクトリの下で）実装されています。この上に、サポートされているIoTプラットフォームの接続タイプごとにモジュールが（`ports`ディレクトリの下に）あります。 各ポートがエージェントコアのモジュールを依存モジュールとして含んでいます。

Node-REDもNode.jsのモジュールとしてインストールされます。

## コンフィグ

エージェントコアは、どのIoTプラットフォームのポートが使用されているかにかかわらず利用可能な共通の設定オプションをいくつかサポートしています。この中の例として以下のオプションがあります。

- ログレベル
- コンソールへのログのオン/オフ
- Enebularログ用のキャッシュのサイズや場所など
- Node-REDインスタンスの場所と実行コマンド

エージェントコアの設定オプションは、エージェントコアがポートによって実行される時に設定されます。 設定方法の詳細には、各ポートを参照してください。

## 利用方法

エージェントを実行するには、必要なNode.jsモジュールをnpmなどでインストールし、IoTプラットフォームの接続情報を正しく設定する必要があります。必要なモジュールと接続情報は、各IoTプラットフォームによって異なります。

エージェントの設定と実行の詳細については、各ポートのreadmeファイルを参照してください。

- [AWS IoT](ports/awsiot/README.md)
